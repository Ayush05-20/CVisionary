<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CVisionary - Pricing</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="../static/css/pricing.css" />
  </head>
  <body>
    <!-- Header (Integrated from howitworks.html logic) -->
    <header class="header">
      <nav class="nav">
        <a href="/index" class="logo">
          <div class="logo-icon">
            <i class="fas fa-brain"></i>
          </div>
          CVisionary
        </a>

        <div class="nav-links">
          <a href="/features">Features</a>
          <a href="/howitworks">Workflow</a>
          <a href="/pricing" class="active">Pricing</a>
          <a href="/upload">Upload</a>
          <a href="/about-us">About Us</a>
        </div>

        <!-- Authentication / User Menu (dynamic) -->
        <div id="auth-section" class="auth-hidden">
          <!-- Loading spinner, visible initially -->
          <div id="auth-loading" class="auth-spinner-container">
            <i class="fas fa-spinner fa-spin"></i>
          </div>

          <!-- Default (unauthenticated) buttons - Initially hidden -->
          <div class="auth-buttons hidden" id="auth-buttons-group">
            <button class="btn btn-outline" id="login-button">Log In</button>
            <button class="btn btn-primary" id="get-started-button">
              Get Started
            </button>
          </div>

          <!-- User Menu (authenticated) - Initially hidden -->
          <div class="user-menu hidden" id="user-menu-group">
            <div class="user-info" id="user-profile-link">
              <div class="user-avatar" id="header-avatar">
                <i class="fas fa-user"></i>
              </div>
              <div>
                <div style="font-weight: 600" id="header-name">Loading...</div>
                <div
                  style="font-size: 0.875rem; color: var(--gray-500)"
                  id="header-email"
                >
                  Loading...
                </div>
              </div>
            </div>
            <button class="logout-btn" id="logout-btn">
              <i class="fas fa-sign-out-alt"></i>
              Logout
            </button>
          </div>
        </div>
      </nav>
    </header>

    <section class="page-header">
      <div class="container">
        <span class="section-tag">PRICING PLANS</span>
        <h1 class="page-title">
          Choose the Right Plan for Your Recruitment Needs
        </h1>
        <p class="page-description">
          Flexible plans designed to scale with your business. All plans include
          our core AI-powered resume matching technology.
        </p>

        <div class="pricing-toggle">
          <span class="toggle-option active">Monthly</span>
          <label class="toggle-switch">
            <input type="checkbox" id="billing-toggle" />
            <span class="toggle-slider"></span>
          </label>
          <span class="toggle-option"
            >Annual <span class="discount-badge">20% OFF</span></span
          >
        </div>
      </div>
    </section>

    <section class="pricing-plans-section">
      <div class="container">
        <div class="pricing-plans">
          <!-- Starter Plan -->
          <div class="pricing-card">
            <h3 class="plan-name">Starter</h3>
            <div class="plan-price">
              <span class="price-currency">$</span>
              <span class="price-amount" id="starter-price">--</span>
              <span class="price-period">/month</span>
            </div>
            <p class="plan-description">
              Perfect for small teams or individual recruiters just getting
              started.
            </p>
            <div class="plan-features">
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Up to 50 resume scans per month</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Basic AI matching algorithm</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Email support</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>1 user account</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon na"
                  ><i class="fas fa-times"></i
                ></span>
                <span>Team collaboration</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon na"
                  ><i class="fas fa-times"></i
                ></span>
                <span>Advanced analytics</span>
              </div>
            </div>
            <button class="btn btn-outline plan-cta">Start Free Trial</button>
          </div>

          <!-- Professional Plan -->
          <div class="pricing-card popular">
            <div class="popular-badge">Most Popular</div>
            <h3 class="plan-name">Professional</h3>
            <div class="plan-price">
              <span class="price-currency">$</span>
              <span class="price-amount" id="pro-price">--</span>
              <span class="price-period">/month</span>
            </div>
            <p class="plan-description">
              Ideal for growing teams that need more power and collaboration
              features.
            </p>
            <div class="plan-features">
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Up to 200 resume scans per month</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Advanced AI matching algorithm</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Priority email & chat support</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>5 user accounts</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Team collaboration tools</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Basic analytics dashboard</span>
              </div>
            </div>
            <button class="btn btn-primary plan-cta">Start Free Trial</button>
          </div>

          <!-- Business Plan -->
          <div class="pricing-card">
            <h3 class="plan-name">Business</h3>
            <div class="plan-price">
              <span class="price-currency">$</span>
              <span class="price-amount" id="business-price">--</span>
              <span class="price-period">/month</span>
            </div>
            <p class="plan-description">
              For larger organizations with high-volume recruitment needs and
              customization.
            </p>
            <div class="plan-features">
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Up to 1,000 resume scans per month</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Premium AI matching algorithm</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>24/7 priority support</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Unlimited user accounts</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Advanced team collaboration</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon"><i class="fas fa-check"></i></span>
                <span>Advanced analytics & reporting</span>
              </div>
            </div>
            <button class="btn btn-outline plan-cta">Contact Sales</button>
          </div>
        </div>
      </div>
    </section>

    <section class="feature-comparison">
      <div class="container">
        <div class="comparison-header">
          <h2 class="comparison-title">Compare Plan Features</h2>
          <p class="comparison-description">
            See which plan is right for your business with our detailed feature
            comparison.
          </p>
        </div>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Starter</th>
              <th>Professional</th>
              <th>Business</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="feature-name">Resume Scans</td>
              <td>50 per month</td>
              <td>200 per month</td>
              <td>1,000 per month</td>
            </tr>
            <tr>
              <td class="feature-name">AI Matching Algorithm</td>
              <td>Basic</td>
              <td>Advanced</td>
              <td>Premium</td>
            </tr>
            <tr>
              <td class="feature-name">User Accounts</td>
              <td>1 user</td>
              <td>5 users</td>
              <td>Unlimited</td>
            </tr>
            <tr>
              <td class="feature-name">Team Collaboration</td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td><i class="fas fa-check check-icon"></i></td>
              <td><i class="fas fa-check check-icon"></i></td>
            </tr>
            <tr>
              <td class="feature-name">Analytics Dashboard</td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td>Basic</td>
              <td>Advanced</td>
            </tr>
            <tr>
              <td class="feature-name">API Access</td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td><i class="fas fa-check check-icon"></i></td>
            </tr>
            <tr>
              <td class="feature-name">Custom Integrations</td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td><i class="fas fa-times x-icon"></i></td>
              <td><i class="fas fa-check check-icon"></i></td>
            </tr>
            <tr>
              <td class="feature-name">Priority Support</td>
              <td>Email only</td>
              <td>Email & Chat</td>
              <td>24/7 Dedicated</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="faq-section">
      <div class="container">
        <div class="faq-header">
          <h2 class="faq-title">Frequently Asked Questions</h2>
          <p class="faq-description">
            Get answers to the most common questions about our plans and
            pricing.
          </p>
        </div>

        <div class="faq-container">
          <div class="faq-item">
            <h3 class="faq-question">
              Can I switch plans at any time?
              <span class="faq-toggle"><i class="fas fa-plus"></i></span>
            </h3>
            <p class="faq-answer" style="display: none">
              Yes, you can upgrade or downgrade your plan at any time. When
              upgrading, you'll be charged the prorated difference. When
              downgrading, the new rate will apply at the start of your next
              billing cycle.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">
              How does the free trial work?
              <span class="faq-toggle"><i class="fas fa-plus"></i></span>
            </h3>
            <p class="faq-answer" style="display: none">
              All plans come with a 14-day free trial. You won't be charged
              until the trial ends, and you can cancel anytime before then. No
              credit card is required to start your trial.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">
              What happens if I exceed my monthly scan limit?
              <span class="faq-toggle"><i class="fas fa-plus"></i></span>
            </h3>
            <p class="faq-answer" style="display: none">
              If you reach your monthly scan limit, you can purchase additional
              scans at $1 per scan or upgrade to a higher plan. We'll notify you
              when you're approaching your limit so you can make an informed
              decision.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">
              Do you offer custom enterprise solutions?
              <span class="faq-toggle"><i class="fas fa-plus"></i></span>
            </h3>
            <p class="faq-answer" style="display: none">
              Yes, for organizations with specific needs or higher volume
              requirements, we offer custom enterprise solutions. Contact our
              sales team to discuss your requirements and get a tailored quote.
            </p>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">
              Is there a discount for nonprofit organizations?
              <span class="faq-toggle"><i class="fas fa-plus"></i></span>
            </h3>
            <p class="faq-answer" style="display: none">
              Yes, we offer special pricing for nonprofit organizations. Please
              contact our support team with proof of your nonprofit status to
              learn more about our discount program.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="enterprise-contact">
      <div class="container">
        <div class="enterprise-card">
          <h2 class="enterprise-title">Need a Custom Solution?</h2>
          <p class="enterprise-description">
            For organizations with high-volume recruitment needs or specific
            requirements, our enterprise solutions offer tailored features and
            dedicated support.
          </p>

          <div class="enterprise-features">
            <div class="enterprise-feature">
              <div class="enterprise-feature-icon">
                <i class="fas fa-cogs"></i>
              </div>
              <div class="enterprise-feature-text">Custom Integrations</div>
            </div>

            <div class="enterprise-feature">
              <div class="enterprise-feature-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="enterprise-feature-text">Enhanced Security</div>
            </div>

            <div class="enterprise-feature">
              <div class="enterprise-feature-icon">
                <i class="fas fa-headset"></i>
              </div>
              <div class="enterprise-feature-text">Dedicated Support</div>
            </div>
          </div>

          <button class="btn btn-primary">Contact Sales</button>
        </div>
      </div>
    </section>

    <section class="cta">
      <div class="container">
        <div class="cta-content">
          <h2 class="cta-title">Ready to Transform Your Hiring Process?</h2>
          <p class="cta-description">
            Join thousands of recruiters who are saving time and making better
            hiring decisions with CVisionary.
          </p>
          <div class="cta-buttons">
            <button class="btn btn-light">Start Free Trial</button>
            <button class="btn btn-outline-light">Schedule Demo</button>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="footer-grid">
          <div>
            <div class="footer-logo">
              <div class="footer-logo-icon">
                <i class="fas fa-brain"></i>
              </div>
              CVisionary
            </div>
            <p class="footer-description">
              AI-powered recruitment software that helps you find the perfect
              candidates faster and with greater accuracy.
            </p>
            <div class="social-icons">
              <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
              <a href="#" class="social-icon"
                ><i class="fab fa-linkedin"></i
              ></a>
              <a href="#" class="social-icon"
                ><i class="fab fa-facebook"></i
              ></a>
              <a href="#" class="social-icon"
                ><i class="fab fa-instagram"></i
              ></a>
            </div>
          </div>

          <div>
            <h3 class="footer-heading">Product</h3>
            <div class="footer-links">
              <a href="#">Features</a>
              <a href="#">How It Works</a>
              <a href="#">Pricing</a>
              <a href="#">Integrations</a>
              <a href="#">Enterprise</a>
            </div>
          </div>

          <div>
            <h3 class="footer-heading">Resources</h3>
            <div class="footer-links">
              <a href="#">Blog</a>
              <a href="#">Case Studies</a>
              <a href="#">Documentation</a>
              <a href="#">Webinars</a>
              <a href="#">Support Center</a>
            </div>
          </div>

          <div>
            <h3 class="footer-heading">Company</h3>
            <div class="footer-links">
              <a href="#">About Us</a>
              <a href="#">Careers</a>
              <a href="#">Contact</a>
              <a href="#">Press</a>
              <a href="#">Partners</a>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <div>&copy; 2025 CVisionary. All rights reserved.</div>
          <div class="footer-bottom-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Cookie Policy</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Firebase and Authentication Scripts (Copied and modified from howitworks.html for consistency) -->
    <script type="module">
      // Import Firebase modules
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        signOut,
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
      import {
        getFirestore,
        doc,
        getDoc,
        setDoc, // Import setDoc for creating initial user doc
        updateDoc, // Import updateDoc for updating user data
      } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

      // Firebase configuration (using the one from activity2.html)
      const firebaseConfig = {
        apiKey: "AIzaSyCyw-l5jQMZS77ZUcgLEY3GnbJmZyFZ_mY",
        authDomain: "authenticate1-ec031.firebaseapp.com",
        projectId: "authenticate1-ec031",
        storageBucket: "authenticate1-ec031.firebasestorage.app",
        messagingSenderId: "259315058735",
        appId: "1:259315058735:web:cc77ae09101c38f26e1eda",
        measurementId: "G-2GVD4YQWEP",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth();
      const db = getFirestore();

      // Global variable to store user data
      let currentUserData = null;

      // Utility Functions
      function getInitials(name) {
        if (!name) return "U";
        return name
          .split(" ")
          .map((word) => word.charAt(0))
          .join("")
          .toUpperCase()
          .slice(0, 2);
      }

      // Function to load user profile from Firestore
      async function loadUserProfile(user) {
        console.log("loadUserProfile: User object received:", user);
        try {
          const userDocRef = doc(db, "users", user.uid);
          const userDocSnap = await getDoc(userDocRef);

          if (userDocSnap.exists()) {
            currentUserData = userDocSnap.data();
            console.log(
              "loadUserProfile: User data from Firestore:",
              currentUserData
            );
          } else {
            // If user document doesn't exist, create a basic one
            currentUserData = {
              name: user.displayName || "User",
              email: user.email,
              role: "user",
              createdAt: new Date(),
              lastLogin: new Date(),
              loginCount: 1,
            };
            await setDoc(userDocRef, currentUserData); // Use setDoc for initial creation
            console.log(
              "loadUserProfile: Created new user document:",
              currentUserData
            );
          }
          // Update last login (can also increment login count here if desired)
          await updateDoc(userDocRef, {
            lastLogin: new Date(),
            loginCount: (currentUserData.loginCount || 0) + 1,
          });
          console.log(
            "loadUserProfile: User data updated with lastLogin/loginCount."
          );

          updateHeaderUI(); // Update the header after fetching/updating data
        } catch (error) {
          console.error("Error loading user profile:", error);
          // Handle error, maybe show a generic "User" name
          document.getElementById("header-name").textContent = "User";
          document.getElementById("header-email").textContent = "Error";
          document.getElementById("header-avatar").textContent = "U";
        }
      }

      // Function to update the header UI based on user data
      function updateHeaderUI() {
        console.log("updateHeaderUI: Current User Data:", currentUserData);
        const authSection = document.getElementById("auth-section");
        const authLoading = document.getElementById("auth-loading"); // Get the loading spinner
        const userMenu = document.getElementById("user-menu-group");
        const authButtons = document.getElementById("auth-buttons-group");

        // Hide the loading spinner first
        authLoading.classList.add("hidden");

        if (currentUserData) {
          const initials = getInitials(
            currentUserData.name || currentUserData.email
          );
          document.getElementById("header-avatar").textContent = initials;
          document.getElementById("header-name").textContent =
            currentUserData.name || "User";
          document.getElementById("header-email").textContent =
            currentUserData.email;

          // Show user menu, hide auth buttons
          userMenu.classList.remove("hidden");
          authButtons.classList.add("hidden");
          console.log(
            "updateHeaderUI: Showing user menu, hiding auth buttons."
          );
        } else {
          // Hide user menu, show auth buttons
          userMenu.classList.add("hidden");
          authButtons.classList.remove("hidden");
          console.log(
            "updateHeaderUI: Hiding user menu, showing auth buttons."
          );
        }
        // Finally, make the entire auth section visible
        authSection.classList.add("auth-visible");
        authSection.classList.remove("auth-hidden");
        console.log("updateHeaderUI: Auth section made visible.");
      }

      // Logout Function
      async function logout() {
        try {
          await signOut(auth);
          currentUserData = null; // Clear local user data
          updateHeaderUI(); // Update UI to show login/signup buttons
          console.log("User logged out successfully.");
          // Optionally redirect to login page after logout
          // window.location.href = "login-signup.html";
        } catch (error) {
          console.error("Error logging out:", error);
          // You might want to display a non-alert message to the user here
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Initial state: show spinner, hide buttons and user menu
        document.getElementById("auth-loading").classList.remove("hidden");
        document.getElementById("auth-buttons-group").classList.add("hidden");
        document.getElementById("user-menu-group").classList.add("hidden");

        // Add scroll animation for header
        window.addEventListener("scroll", function () {
          const header = document.querySelector(".header");
          if (window.scrollY > 10) {
            header.style.boxShadow = "var(--shadow)";
            header.style.background = "rgba(255, 255, 255, 0.98)";
          } else {
            header.style.boxShadow = "var(--shadow-sm)";
            header.style.background = "white";
          }
        });

        // Get the buttons and user profile link from the main page
        const loginButton = document.getElementById("login-button");
        const getStartedButton = document.getElementById("get-started-button");
        const logoutButton = document.getElementById("logout-btn");
        const userProfileLink = document.getElementById("user-profile-link");

        if (loginButton) {
          loginButton.addEventListener("click", function () {
            window.location.href = "/login-signup";
          });
        }

        if (getStartedButton) {
          getStartedButton.addEventListener("click", function () {
            window.location.href = "/login-signup?tab=signup";
          });
        }

        if (logoutButton) {
          logoutButton.addEventListener("click", logout);
        }

        // Add click listener to the user profile section
        if (userProfileLink) {
          userProfileLink.addEventListener("click", function () {
            window.location.href = "/activity2"; // Navigate to the activity page
          });
        }

        // Authentication State Observer
        onAuthStateChanged(auth, async (user) => {
          console.log(
            "onAuthStateChanged: Authentication state changed. User:",
            user
          );
          if (user) {
            // User is signed in
            await loadUserProfile(user); // Load profile and update UI
          } else {
            // User is signed out
            currentUserData = null; // Clear user data
            updateHeaderUI(); // Update UI to show login/signup buttons
          }
        });

        // Toggle billing period (monthly/annual)
        const billingToggle = document.getElementById("billing-toggle");
        const starterPrice = document.getElementById("starter-price");
        const proPrice = document.getElementById("pro-price");
        const businessPrice = document.getElementById("business-price");
        const toggleOptions = document.querySelectorAll(".toggle-option");

        billingToggle.addEventListener("change", function () {
          if (this.checked) {
            // Annual pricing (20% discount)
            starterPrice.textContent = "--";
            proPrice.textContent = "--";
            businessPrice.textContent = "--";
            toggleOptions[0].classList.remove("active");
            toggleOptions[1].classList.add("active");
          } else {
            // Monthly pricing
            starterPrice.textContent = "--";
            proPrice.textContent = "--";
            businessPrice.textContent = "--";
            toggleOptions[0].classList.add("active");
            toggleOptions[1].classList.remove("active");
          }
        });

        // FAQ toggle
        const faqQuestions = document.querySelectorAll(".faq-question");

        faqQuestions.forEach((question) => {
          question.addEventListener("click", () => {
            const answer = question.nextElementSibling;
            const toggle = question.querySelector(".faq-toggle");

            if (
              answer.style.display === "none" ||
              answer.style.display === ""
            ) {
              answer.style.display = "block";
              toggle.classList.add("open");
            } else {
              answer.style.display = "none";
              toggle.classList.remove("open");
            }
          });
        });

        // Set active navigation link for 'Pricing' page
        const currentPath = window.location.pathname.split("/").pop();
        const navLinks = document.querySelectorAll(".nav-links a");
        navLinks.forEach((link) => {
          if (
            link.getAttribute("href") &&
            link.getAttribute("href").endsWith(currentPath)
          ) {
            link.classList.add("active");
          } else {
            link.classList.remove("active");
          }
        });
      });
    </script>
  </body>
</html>
